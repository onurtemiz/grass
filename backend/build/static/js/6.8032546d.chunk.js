(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[6],{174:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(){return r.a.createElement("div",null,"Consent verecek hoca ar\u0131yorum...")}},458:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(174),l=n(35),o=n(49),u=n(20),m=function(){var e=Object(u.b)();return r.a.createElement("input",{lang:"tr",onInput:function(t){return function(t){e(Object(o.b)(t.target.value))}(t)},style:{textTransform:"uppercase",width:"50%"},placeholder:"Ders ya da hoca aray\u0131n"})},i=n(26),s=n(463),d=n(281),f=function(){var e=Object(u.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a.Item,{onClick:function(){e(Object(i.c)())},position:"right",style:{backgroundColor:"#f44336",color:"whitesmoke"}},r.a.createElement(d.a,{name:"log out"}),"\xc7\u0131k\u0131\u015f Yap"))},b=function(){return r.a.createElement(s.a,{style:{marginBottom:"0"}},r.a.createElement(s.a.Item,{as:l.b,to:"/",style:{backgroundColor:"#049a04a6",color:"white"}},r.a.createElement(d.a,{name:"home"}),"Ana Sayfa"),r.a.createElement(m,null),r.a.createElement(f,null))},E=n(6),h=n(37),p=n(2),v=n.n(p),j=n(3),O=n(278),g=n(208),y=n(36),C=function(e){var t=e.lessonId,n=e.teacherId,a=e.comment,c=e.setIsUpdate,l=e.enqueueSnackbar,o=Object(u.b)(),m=function(){var e=Object(j.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!1),a?(o(Object(y.g)(t.comment,a.id,c)),l("Comment is changed",{variant:"info"})):(o(Object(y.e)(t)),l("New Comment is added",{variant:"success"}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(O.d,{initialValues:{comment:a?a.comment:"",lessonId:t,teacherId:n},validationSchema:g.a({comment:g.b().required("Required").min(3,"Must be 3 character or more")}),onSubmit:function(){var e=Object(j.a)(v.a.mark((function e(t,n){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.setSubmitting,r=n.resetForm,e.next=3,m(t,a);case 3:r();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},r.a.createElement(O.c,null,r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"comment"},"Comment: "),r.a.createElement(O.b,{name:"comment",type:"text"})),r.a.createElement("div",null,r.a.createElement(O.a,{name:"comment"})),r.a.createElement("button",{type:"submit"},"Submit"))))},k=n(168),I=n.n(k),N=n(171),w=n(268),U=(n(269),function(e){var t=e.comment,n=e.setIsUpdate,c=Object(u.c)((function(e){return e.user})),l=Object(u.b)(),o=Object(a.useState)(""),m=Object(N.a)(o,2),i=m[0],s=m[1];Object(a.useEffect)((function(){t.likes.includes(c.id)?s("liked"):s("like")}),[]);return r.a.createElement("div",{style:{border:"solid 1px black"}},r.a.createElement("div",null,"Name: ",t.user.firstName," ",t.user.lastName),r.a.createElement("div",null,new Date(t.date).toLocaleDateString("tr-TR",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1})),r.a.createElement("div",null,"Comment: ",t.comment),r.a.createElement("div",null,"Likes: ",t.likes.length,r.a.createElement("button",{onClick:function(){l(Object(y.d)(t.id)),s("like"===i?"liked":"like")}},i)),c.id===t.user.id?r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){Object(w.confirmAlert)({customUI:function(e){var n=e.onClose;return r.a.createElement("div",null,r.a.createElement("h1",null,"Are you sure?"),r.a.createElement("p",null,"You want to delete ",t.comment),r.a.createElement("button",{onClick:function(){l(Object(y.f)(t.id)),n()}},"Yes, Delete it!"),r.a.createElement("button",{onClick:n},"No"))}})}},"Remove")):null,c.id===t.user.id?r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){n(!0)}},"Update")):null)}),S=function(e){var t=e.comment,n=Object(a.useState)(!1),c=Object(N.a)(n,2),l=c[0],o=c[1];return l?r.a.createElement("div",null,r.a.createElement(C,{lessonId:t.lessonId,teacherId:t.lessonId,comment:t,setIsUpdate:o})):r.a.createElement("div",null,r.a.createElement(U,{comment:t,setIsUpdate:o}))},M=n(100),R=function(e){var t=e.type,n=e.typeId,c=Object(u.c)((function(e){return e.comments.count})),l=Object(u.c)((function(e){return e.comments.start})),o=Object(u.c)((function(e){return e.comments.hasMore})),m=Object(u.c)((function(e){return e.comments.comments})),i=Object(u.c)((function(e){return e})),s=Object(u.b)();Object(a.useEffect)((function(){"teacher"===t?s(Object(y.b)(0,c,n)):"lesson"===t&&s(Object(y.a)(0,c,n))}),[]);return console.log("comments",i),r.a.createElement("div",{style:{height:400,overflow:"auto"}},r.a.createElement(I.a,{pageStart:0,loadMore:function(){"teacher"===t?s(Object(y.b)(l,c,n)):"lesson"===t&&s(Object(y.a)(l,c,n))},hasMore:o,loader:r.a.createElement("div",{className:"loader",key:0},r.a.createElement(M.a,null)),useWindow:!1},m.filter((function(e){return"teacher"===t?e.teacher===n:e.lesson===n})).sort((function(e,t){return new Date(t.date)-new Date(e.date)})).sort((function(e,t){return t.likes.length-e.likes.length})).map((function(e){return r.a.createElement(S,{key:e.id,comment:e})}))))},x=function(){var e=Object(u.b)(),t=Object(E.f)("/lessons/:areaCode/:digitCode/:teacherName").params,n=Object(u.c)((function(e){return e.lessons.lessons}));if(Object(a.useEffect)((function(){var n=t;e(Object(h.c)(n.areaCode,n.digitCode,n.teacherName))}),[]),void 0===n.find((function(e){return e.fullName==="".concat(t.areaCode).concat(t.digitCode)&&e.teacher.name===decodeURI(t.teacherName)})))return r.a.createElement(M.a,null);var c=n.find((function(e){return e.fullName==="".concat(t.areaCode).concat(t.digitCode)&&e.teacher.name===decodeURI(t.teacherName)}));return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(l.b,{to:"/teachers/".concat(c.teacher.name)},c.teacher.name)),c.fullName.toUpperCase(),r.a.createElement("h2",null,"Comments"),r.a.createElement(C,{lessonId:c.id,teacherId:c.teacher.id}),r.a.createElement(R,{typeId:c.id,type:"lesson"}))},D=function(e,t){return"/lessons/".concat(e.areaCode,"/").concat(e.digitCode,"/").concat(t)},F=n(38),L=function(){var e=Object(u.b)(),t=Object(E.f)("/teachers/:name"),n=Object(u.c)((function(e){return e.teachers.teachers}));if(Object(a.useEffect)((function(){e(Object(F.c)(t.params.name))}),[]),void 0===n.find((function(e){return e.name===t.params.name})))return r.a.createElement(M.a,null);var c=n.find((function(e){return e.name===t.params.name}));return console.log("teacher",c),r.a.createElement("div",null,c.name,r.a.createElement("ul",null,c.lessons.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(l.b,{to:D(e,c.name)},e.fullName))}))),r.a.createElement("h2",null,"Comments"),r.a.createElement(R,{typeId:c.id,type:"teacher"}))},T=n(460),q=n(465),A=n(280),Y=function(e){var t=e.lesson,n=e.teacherName;return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{as:l.b,to:D(t,n),fluid:!0,style:{paddingTop:"0.5em",paddingLeft:"0.5em"}},r.a.createElement(T.a.Header,{style:{display:"inline"}},r.a.createElement(q.a,{as:"h2",color:"green"},t.fullName.toUpperCase(),t.sectionCode.map((function(e){return r.a.createElement(A.a,{color:"blue",key:"".concat(t.fullName,".").concat(e)},e)})))),r.a.createElement(T.a.Meta,null,n)))},J=function(e){var t=e.teacher;return r.a.createElement(r.a.Fragment,null,t.lessons.map((function(e){return r.a.createElement(Y,{lesson:e,teacherName:t.name,key:e.id})})))},W=n(50),B=n(15),H=n.n(B),V=function(){var e=Object(u.c)((function(e){return e.all.count})),t=Object(u.c)((function(e){return e.all.start})),n=Object(u.c)((function(e){return e.all.hasMore})),c=Object(u.c)((function(e){return e.all.all})),l=Object(u.c)((function(e){return e.filter})),o=Object(u.b)(),m=Object(u.c)((function(e){return e.all}));Object(a.useEffect)((function(){o(Object(W.a)(0,e,l))}),[l]);return 0===c.length?r.a.createElement(M.a,null):(console.log("state",m),r.a.createElement("div",{style:{height:400,overflow:"auto"}},r.a.createElement(I.a,{pageStart:0,loadMore:function(){o(Object(W.a)(t,e,l))},hasMore:n,loader:r.a.createElement("div",{className:"loader",key:0},r.a.createElement(M.a,{variant:"query"})),useWindow:!1},function(e){var t=e.filter((function(e){return e.name.toLocaleUpperCase("tr-TR").includes(l.toLocaleUpperCase("tr-TR"))})),n=e.filter((function(e){return e.lessons.filter((function(e){return e.fullName.toUpperCase().includes(l.toUpperCase())})).length>0}));return H.a.union(n,t)}(c).sort((function(e,t){return e.lessons[0].fullName-t.lessons[0].fullName})).map((function(e){return r.a.createElement(J,{teacher:e,key:e.id})})))))};t.default=function(){return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/teachers/:name"},r.a.createElement(L,null)),r.a.createElement(E.a,{path:"/lessons/:areaCode/:digitCode/:teacherName"},r.a.createElement(x,null)),r.a.createElement(E.a,{path:"/"},r.a.createElement(V,null))),r.a.createElement(c.a,null))}}}]);
//# sourceMappingURL=6.8032546d.chunk.js.map